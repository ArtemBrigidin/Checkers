{"ast":null,"code":"document.addEventListener('DOMContentLoaded', () => {\n  console.log('DOM полностью загружен');\n  const board = document.getElementById('Board');\n  const playerCemetery = document.getElementById('PlayerCemetry');\n  const enemyCemetery = document.getElementById('EnemyCemetry');\n  let selectedChecker = null;\n  console.log('Board:', board);\n  console.log('Player Cemetery:', playerCemetery);\n  console.log('Enemy Cemetery:', enemyCemetery);\n  createBoard();\n  function createBoard() {\n    for (let row = 1; row <= 8; row++) {\n      for (let col = 1; col <= 8; col++) {\n        const cell = document.createElement('div');\n        cell.classList.add('Cell');\n        cell.style.gridArea = `${row} / ${col}`;\n        board.appendChild(cell);\n        if ((row + col) % 2 === 0 && (row < 4 || row > 5)) {\n          const checker = document.createElement('div');\n          checker.classList.add('checker', row < 4 ? 'white' : 'black');\n          checker.style.gridArea = `${row} / ${col}`;\n          board.appendChild(checker);\n        }\n      }\n    }\n  }\n  board.addEventListener('click', event => {\n    const target = event.target.closest('.checker');\n    if (target) {\n      if (selectedChecker) selectedChecker.classList.remove('selected');\n      selectedChecker = target !== selectedChecker ? target : null;\n      if (selectedChecker) selectedChecker.classList.add('selected');\n    } else if (selectedChecker) {\n      moveChecker(event.target.closest('.Cell'));\n    }\n  });\n  function moveChecker(cell) {\n    var _selectedChecker;\n    if (!cell) return;\n    const [startRow, startCol] = getGridArea(selectedChecker);\n    const [endRow, endCol] = getGridArea(cell);\n    const rowDiff = Math.abs(endRow - startRow);\n    const colDiff = Math.abs(endCol - startCol);\n    if (rowDiff === 1 && colDiff === 1) {\n      updateCheckerPosition(endRow, endCol);\n    } else if (rowDiff === 2 && colDiff === 2) {\n      const middleChecker = getMiddleChecker(startRow, startCol, endRow, endCol);\n      if (middleChecker && !isSameColor(selectedChecker, middleChecker)) {\n        captureChecker(middleChecker);\n        updateCheckerPosition(endRow, endCol);\n      }\n    }\n    (_selectedChecker = selectedChecker) === null || _selectedChecker === void 0 ? void 0 : _selectedChecker.classList.remove('selected');\n    selectedChecker = null;\n  }\n  function getGridArea(element) {\n    return element.style.gridArea.split(' / ').map(Number);\n  }\n  function updateCheckerPosition(row, col) {\n    selectedChecker.style.gridArea = `${row} / ${col}`;\n  }\n  function getMiddleChecker(startRow, startCol, endRow, endCol) {\n    const midRow = (startRow + endRow) / 2;\n    const midCol = (startCol + endCol) / 2;\n    return [...document.querySelectorAll('.checker')].find(checker => {\n      const [row, col] = getGridArea(checker);\n      return row === midRow && col === midCol;\n    });\n  }\n  function isSameColor(checker1, checker2) {\n    return checker1.classList.contains('black') === checker2.classList.contains('black');\n  }\n  function captureChecker(checker) {\n    const cemetery = checker.classList.contains('black') ? playerCemetery : enemyCemetery;\n    cemetery.appendChild(checker);\n    checker.style.gridArea = '';\n  }\n});","map":{"version":3,"names":["document","addEventListener","console","log","board","getElementById","playerCemetery","enemyCemetery","selectedChecker","createBoard","row","col","cell","createElement","classList","add","style","gridArea","appendChild","checker","event","target","closest","remove","moveChecker","_selectedChecker","startRow","startCol","getGridArea","endRow","endCol","rowDiff","Math","abs","colDiff","updateCheckerPosition","middleChecker","getMiddleChecker","isSameColor","captureChecker","element","split","map","Number","midRow","midCol","querySelectorAll","find","checker1","checker2","contains","cemetery"],"sources":["C:/Users/79650/Desktop/lolkekshahmati/src/DOM/Checkers/Game/Board/CheckerMove.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', () => {\r\n    console.log('DOM полностью загружен');\r\n\r\n    const board = document.getElementById('Board');\r\n    const playerCemetery = document.getElementById('PlayerCemetry');\r\n    const enemyCemetery = document.getElementById('EnemyCemetry');\r\n    let selectedChecker = null;\r\n\r\n    console.log('Board:', board);\r\n    console.log('Player Cemetery:', playerCemetery);\r\n    console.log('Enemy Cemetery:', enemyCemetery);\r\n\r\n    createBoard();\r\n\r\n    function createBoard() {\r\n        for (let row = 1; row <= 8; row++) {\r\n            for (let col = 1; col <= 8; col++) {\r\n                const cell = document.createElement('div');\r\n                cell.classList.add('Cell');\r\n                cell.style.gridArea = `${row} / ${col}`;\r\n                board.appendChild(cell);\r\n\r\n                if ((row + col) % 2 === 0 && (row < 4 || row > 5)) {\r\n                    const checker = document.createElement('div');\r\n                    checker.classList.add('checker', row < 4 ? 'white' : 'black');\r\n                    checker.style.gridArea = `${row} / ${col}`;\r\n                    board.appendChild(checker);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    board.addEventListener('click', (event) => {\r\n        const target = event.target.closest('.checker');\r\n        if (target) {\r\n            if (selectedChecker) selectedChecker.classList.remove('selected');\r\n            selectedChecker = target !== selectedChecker ? target : null;\r\n            if (selectedChecker) selectedChecker.classList.add('selected');\r\n        } else if (selectedChecker) {\r\n            moveChecker(event.target.closest('.Cell'));\r\n        }\r\n    });\r\n\r\n    function moveChecker(cell) {\r\n        if (!cell) return;\r\n\r\n        const [startRow, startCol] = getGridArea(selectedChecker);\r\n        const [endRow, endCol] = getGridArea(cell);\r\n        const rowDiff = Math.abs(endRow - startRow);\r\n        const colDiff = Math.abs(endCol - startCol);\r\n\r\n        if (rowDiff === 1 && colDiff === 1) {\r\n            updateCheckerPosition(endRow, endCol);\r\n        } else if (rowDiff === 2 && colDiff === 2) {\r\n            const middleChecker = getMiddleChecker(startRow, startCol, endRow, endCol);\r\n            if (middleChecker && !isSameColor(selectedChecker, middleChecker)) {\r\n                captureChecker(middleChecker);\r\n                updateCheckerPosition(endRow, endCol);\r\n            }\r\n        }\r\n        selectedChecker?.classList.remove('selected');\r\n        selectedChecker = null;\r\n    }\r\n\r\n    function getGridArea(element) {\r\n        return element.style.gridArea.split(' / ').map(Number);\r\n    }\r\n\r\n    function updateCheckerPosition(row, col) {\r\n        selectedChecker.style.gridArea = `${row} / ${col}`;\r\n    }\r\n\r\n    function getMiddleChecker(startRow, startCol, endRow, endCol) {\r\n        const midRow = (startRow + endRow) / 2;\r\n        const midCol = (startCol + endCol) / 2;\r\n        return [...document.querySelectorAll('.checker')].find(checker => {\r\n            const [row, col] = getGridArea(checker);\r\n            return row === midRow && col === midCol;\r\n        });\r\n    }\r\n\r\n    function isSameColor(checker1, checker2) {\r\n        return checker1.classList.contains('black') === checker2.classList.contains('black');\r\n    }\r\n\r\n    function captureChecker(checker) {\r\n        const cemetery = checker.classList.contains('black') ? playerCemetery : enemyCemetery;\r\n        cemetery.appendChild(checker);\r\n        checker.style.gridArea = '';\r\n    }\r\n});\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}